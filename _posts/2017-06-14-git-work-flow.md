---
layout: post
title: "关于git使用的思考"
description: "some tips about git"
category: tools
tags: [tool, git, workflow]
---

突然想研究git log。起因是看到一张晒出来的git network graph，对比了下自己的graph，啧啧啧，怎一个乱字了得。

### git的前期困扰

起初接触git，是在一个小团队中，然后看了廖雪峰老师的[git教程](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/)，嗯，我的很多初识教程都来自廖老师和阮老师。

当时简单得多，我被告知几个常见的git命令：git clone、git pull、git branch、git checkout、git add、git commit、git diff、git merge、git push大概就是这几个命令。然后你会发现，就算只会这几个命令也完全可以满足日常的开发需求。但是，凡事总有但是，一旦你开始自己去管理约束整个git工作流，你就会发现这些不够用，准确的说，这些不能帮助你解决任何突发事件。

### 第一个问题

周四日常上线的时间，叮，18点已过，开始准备deploy代码。然而测试还未完全完成，当然只能等待ing。然后，终于，哈哈，发现一个业务逻辑上的大bug，紧急修复不了，怎么办？呐呐，只能暂时搁置这个需求。what？可是我的代码都已经全部打包更新过？oh，我没有任何分支备份。最终我只能通过删代码，相信我，这是一个很痛苦又漫长的过程。

当然，很熟悉git协作流程的人会鄙夷这种workflow，但是，对于第一次独自管理这些的我来说，我也在鄙夷。同时也在思考，有没有快速简单的方法避免这种结果，或者说在版本控制上能更加灵活。是的，起码我还记得版本控制可以帮助我。

### 第一个解决方案

为了避免版本大的回退或是突发事件。我做了些分支上的管理。

在远程再添加一个分支online，这个分支只是在上线当天使用，后面发现，在需要前端做点修改的时候也会用到。然后所有的开发分支基于online的代码进行添加。

关于需求，每个人各自管理好。我的方法是：一个需求模块开一个本地分支，在测试期间，把所有的分支代码全部合到master主分支提交测试。上线当天再确定具体上线的需求，再把各个上线的本地分支合并到online分支上。这样，可以有效的解决临时不上线代码的问题。

啊，突然有了个新需求，于是就写到这里吧。稍后补充发现的新大陆。

看了许多分支管理介绍，但是我还是没有一个很明确的方案来解决开发完成代码合并但是不上线的问题~！

哈哈，我就是来做实验完成git官方的work flow的。

